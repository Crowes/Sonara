<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!-- TODO: Find currentSong way to have these locally. -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Overpass+Mono|Fira+Mono" rel="stylesheet">
  <link rel="stylesheet" href="../node_modules/materialize-css/dist/css/materialize.min.css">
  <link rel="stylesheet" href="styles/index.css" />
  <title>Sonara</title>
</head>

<body class="grey lighten-4">
  <div id="sonara-app">
      <bar>
          <connection-icon
                  connection-status="Connected"
                  device-name="Sonos One">
          </connection-icon>
          <listeners-icon v-bind:count="11"></listeners-icon>
          <clicker
                  label="Report a Bug"
                  background-color="white"
                  text-color="text-darken-4 purple"
                  icon-name="healing"
                  icon-position="right"
                  wave-color="dark">
          </clicker>
          <clicker
                  label="Lock the Queue"
                  background-color="white"
                  text-color="text-darken-4 purple"
                  icon-name="lock_outline"
                  icon-position="right"
                  wave-color="dark">
          </clicker>
      </bar>
      <page>
          <page-column v-bind:size="2" v-bind:shadowed="true">

              <!-- User Profile -->
              <profile v-bind:user="currentUser"></profile>
              <list>
                  <notification></notification>
              </list>

          </page-column>
          <page-column v-bind:size="7" v-bind:shadowed="false">

              <list>
                <song
                        v-for="(currentSong, currentSongIndex) in currentSongs"
                        v-bind:key="currentSong.id"
                        v-bind:index="currentSongIndex"
                        v-bind:song="currentSong">
                    <clicker
                            v-bind:flat="true"
                            icon-name="clear"
                            position="right"
                            wave-color="dark">
                    </clicker>
                    <clicker
                            v-bind:flat="true"
                            icon-name="more_vert"
                            position="right"
                            v-on:click="openDetailModal"
                            wave-color="dark">
                    </clicker>
                    <clicker
                            text-color="red"
                            :floating="true"
                            icon-name="arrow_downward"
                            position="right"
                            wave-color="dark">
                    </clicker>
                    <clicker
                            text-color="green"
                            :floating="true"
                            icon-name="arrow_upward"
                            position="right"
                            wave-color="dark">
                    </clicker>
                </song>
              </list>

          </page-column>
          <page-column v-bind:size="3" v-bind:shadowed="true">

              <song-playing :song="currentSongs[0]">

                  <loader ref="songLoader" slot="progressBar" :progress="playingSongProgress"></loader>
                  <clicker
                          slot="controlButtons"
                          text-color="white"
                          background-color="purple darken-4"
                          :floating="true"
                          :large="true"
                          icon-name="fast_rewind">
                  </clicker>
                  <clicker
                          slot="controlButtons"
                          text-color="white"
                          background-color="purple darken-4"
                          :floating="true"
                          :large="true"
                          icon-name="pause">
                  </clicker>
                  <clicker
                          slot="controlButtons"
                          text-color="white"
                          background-color="purple darken-4"
                          :floating="true"
                          :large="true"
                          icon-name="fast_forward">
                  </clicker>
                  <clicker
                          slot="appreciationButtons"
                          :label="getNumberDenotation(22200)"
                          text-color="green"
                          background-color="white"
                          icon-name="arrow_upward"
                          icon-position="left"
                          wave-color="dark">
                  </clicker>
                  <clicker
                          slot="appreciationButtons"
                          :label="getNumberDenotation(2200)"
                          text-color="red"
                          background-color="white"
                          icon-name="arrow_downward"
                          icon-position="right"
                          wave-color="dark">
                  </clicker>


              </song-playing>


          </page-column>
      </page>

      <detail ref="detailModal" title="Drake - Hotline Bling">
          <song-overview slot="song">
          </song-overview>
          <clicker
                  slot="buttons"
                  label="Close"
                  v-bind:flat="true"
                  position="right"
                  background-color="white"
                  text-color="black"
                  icon-name="clear"
                  icon-position="right">
          </clicker>
          <clicker
                  slot="buttons"
                  v-bind:flat="true"
                  label="Get Song Link"
                  position="left"
                  background-color="white"
                  text-color="black"
                  icon-name="insert_link"
                  icon-position="left">
          </clicker>
      </detail>
  </div>

  <script src="../node_modules/materialize-css/dist/js/materialize.min.js"></script>
  <script src="./javascript/index.js"></script>

</body>

</html>
